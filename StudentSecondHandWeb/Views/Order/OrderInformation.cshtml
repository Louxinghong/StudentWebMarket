@{
    Layout = "~/Views/Shared/NavigationBar.cshtml";
}

@using PagedList.Mvc;
@model PagedList.IPagedList<StudentSecondHandWeb.Models.OrderInfo>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="~/Content/MyCSS/orderinformation.css" />
    <link href="~/Content/MyCSS/PagedList.css" rel="stylesheet" />
    <title>订单信息</title>
    <style>
    </style>
</head>
<body>
    <div class="order-context">
        @foreach (var item in Model)
        {
            <div class="order-details">
                <div class="order-picture">
                    <img class="order-picture-context" src="@Html.DisplayFor(modelItem => item.ResPicture)" />
                </div>
                <div class="order-word">
                    <p class="order-word-context">
                        <span>@Html.DisplayFor(modelItem => item.ResName)</span>
                    </p>
                    <p class="order-price-context">
                        <span>¥：</span>
                        <span>@Html.DisplayFor(modelItem => item.ResPrice)</span>
                    </p>
                    <p class="order-time-context">
                        <span>下单时间：</span>
                        <span>@Html.DisplayFor(modelItem => item.BuyTime)</span>
                    </p>
                </div>
                @if (item.WhetherCancelBuy == "0")
                {
                    <div class="btn-look-delete">
                        <p class="btn-look-delete-context">
                            <a class="btn-delete" href="~/Order/CancelOrder?id=@Html.DisplayFor(model => item.ID)">取消订单</a>
                        </p>
                    </div>
                }
                @if (item.WhetherCancelBuy == "1")
                {
                    <div class="already-cancel">
                        <p class="already-cancel-order">已取消订单</p>
                    </div>
                }
            </div>
        }
    </div>
        
    @Html.PagedListPager(
        Model, page => Url.Action("OrderInformation", new { page = page }),
        new PagedListRenderOptions {
            LinkToFirstPageFormat = "首页",
            LinkToPreviousPageFormat = "上一页",
            LinkToNextPageFormat = "下一页",
            LinkToLastPageFormat = "尾页",
            MaximumPageNumbersToDisplay = 5
        }
    )

</body>
</html>
